<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>CloudShell Developer Guide : Getting Started</title>
        <meta name="description" content="">
        <link rel="shortcut icon" type="image/png" href="/devguide_7/favicon.png?">
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/devguide_7/css/main.css">
        <link rel="stylesheet" href="/devguide_7/css/prism.css">
        <link rel="stylesheet" href="/devguide_7/css/samples.css">
        <link rel="stylesheet" href="/devguide_7/css/normalize.css">
        <link rel="stylesheet" href="/devguide_7/css/test-hot-block.webflow.css">


        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <script src="/devguide_7/js/jquery-3.1.0.min.js"></script>
        <script src="/devguide_7/js/modernizr.js"></script>
        <script src="/devguide_7/js/webflow.js"></script>


        
        <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-81468206-1', 'auto');
 ga('send', 'pageview');

</script>

        <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Getting Started - CloudShell Developer Guide</title>
<meta property="og:title" content="Getting Started" />
<meta name="description" content="This section will take you through the basic steps of a creating a new Shell. The goal is to demonstrate the end-to-end cycle, from generating a new Shell project to instancing Shell resources and running commands in CloudShell." />
<meta property="og:description" content="This section will take you through the basic steps of a creating a new Shell. The goal is to demonstrate the end-to-end cycle, from generating a new Shell project to instancing Shell resources and running commands in CloudShell." />
<link rel="canonical" href="https://qualisystems.github.io/devguide_7/shells/getting-started.html" />
<meta property="og:url" content="https://qualisystems.github.io/devguide_7/shells/getting-started.html" />
<meta property="og:site_name" content="CloudShell Developer Guide" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-04-30T13:02:32+03:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@qualisystems" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Getting Started",
"datePublished": "2016-04-30T13:02:32+03:00",
"description": "This section will take you through the basic steps of a creating a new Shell. The goal is to demonstrate the end-to-end cycle, from generating a new Shell project to instancing Shell resources and running commands in CloudShell.",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "https://qualisystems.github.io/devguide_7/assets/logo.png"}},
"url": "https://qualisystems.github.io/devguide_7/shells/getting-started.html"}</script>
<!-- End Jekyll SEO tag -->

        
    </head>
    <body>
        <div id="header">
            <div class="container">
                <div class="row">
    <div class="col-md-3 col-sm-4">
        <a class="brand" href="/devguide_7/">
            <img alt="CloudShell Logo" src="/devguide_7/assets/logo.png" />
            CloudShell <small>Developer Guide</small>
        </a>
    </div>
    <div class="col-md-9 col-sm-8">
        <form class="search" action="/devguide_7/search.html">
            <input class="input" id="search-query" type="text" name="q" placeholder="Search" />
            <input class="button" type="submit" value="Search"></input>
        </form>
    </div>
</div>

            </div>
        </div>
        <div class="container">
            <div class="row">
                
                
                    <div id="navigation" class="col-md-3 col-sm-4">
                        <ul class="nav nav-list">
     
     
        <li class="nav-header"></li>
        
        
        
     
        <li class="nav-header">Introduction</li>
        
                <li data-page-id="index.md"><a href="/devguide_7/">The CloudShell DevGuide</a></li>
        
        
        
                    <li data-page-id="_introduction/setting-up-the-development-ide.md" data-order="1"><a href="/devguide_7/introduction/setting-up-the-development-ide.html">Setting up the Development Environment</a></li>
        
     
        <li class="nav-header">Extending cloudshell with shells</li>
        
        
        
                    <li data-page-id="_shells/getting-started.md" data-order="1"><a href="/devguide_7/shells/getting-started.html">Getting Started</a></li>
        
                    <li data-page-id="_shells/shell-driver-overview.md" data-order="2"><a href="/devguide_7/shells/shell-driver-overview.html">Shell Drivers Overview</a></li>
        
                    <li data-page-id="_shells/the-shell-project.md" data-order="3"><a href="/devguide_7/shells/the-shell-project.html">The Shell Project Guide</a></li>
        
                    <li data-page-id="_shells/modeling-the-shell.md" data-order="4"><a href="/devguide_7/shells/modeling-the-shell.html">Modeling the Shell</a></li>
        
                    <li data-page-id="_shells/getting-information-from-cloudshell.md" data-order="5"><a href="/devguide_7/shells/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
        
                    <li data-page-id="_shells/driver-deep-dive.md" data-order="6"><a href="/devguide_7/shells/driver-deep-dive.html">Driver Deep Dive</a></li>
        
                    <li data-page-id="_shells/customizing-driver-commands.md" data-order="6"><a href="/devguide_7/shells/customizing-driver-commands.html">Commands Visibility and Usability</a></li>
        
                    <li data-page-id="_shells/implementing-discovery-for-inventory-shells.md" data-order="7"><a href="/devguide_7/shells/implementing-discovery-for-inventory-shells.html">Implementing Discovery for Inventory Shells</a></li>
        
                    <li data-page-id="_shells/discovering-inventory-snmp.md" data-order="8"><a href="/devguide_7/shells/discovering-inventory-snmp.html">Discovering Inventory using SNMP</a></li>
        
                    <li data-page-id="_shells/debugging-shell-commands.md" data-order="9"><a href="/devguide_7/shells/debugging-shell-commands.html">Debugging Shell Driver Commands</a></li>
        
                    <li data-page-id="_shells/deploying-to-production.md" data-order="11"><a href="/devguide_7/shells/deploying-to-production.html">Deploying to Production</a></li>
        
                    <li data-page-id="_shells/common-driver-recipes.md" data-order="12"><a href="/devguide_7/shells/common-driver-recipes.html">Common Driver Recipes</a></li>
        
                    <li data-page-id="_shells/tips-and-tricks.md" data-order="13"><a href="/devguide_7/shells/tips-and-tricks.html">Tips and Tricks</a></li>
        
     
        <li class="nav-header">Orchestration scripts</li>
        
        
        
                    <li data-page-id="_orchestration/getting-started.md" data-order="1"><a href="/devguide_7/orchestration/getting-started.html">Getting Started</a></li>
        
                    <li data-page-id="_orchestration/getting-information-from-cloudshell.md" data-order="2"><a href="/devguide_7/orchestration/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
        
                    <li data-page-id="_orchestration/script-commands-customization.md" data-order="6"><a href="/devguide_7/orchestration/script-commands-customization.html">Script commands Visibility and Usability</a></li>
        
                    <li data-page-id="_orchestration/scripts-deep-dive.md" data-order="6"><a href="/devguide_7/orchestration/scripts-deep-dive.html">Scripts Deep Dive</a></li>
        
                    <li data-page-id="_orchestration/common-orchestration-recipes.md" data-order="9"><a href="/devguide_7/orchestration/common-orchestration-recipes.html">Common Orchestration Script Recipes</a></li>
        
                    <li data-page-id="_orchestration/the-oob-orchestration.md" data-order="9"><a href="/devguide_7/orchestration/the-oob-orchestration.html">CloudShell's OOB Orchestration</a></li>
        
     
        <li class="nav-header">Integrating cloudshell into the devops cycle</li>
        
        
        
                    <li data-page-id="_devops/devops-integration.md" data-order="1"><a href="/devguide_7/devops/devops-integration.html">Automating CloudShell Sandboxes for DevOps</a></li>
        
     
        <li class="nav-header">Reference</li>
        
        
        
                    <li data-page-id="_reference/python-coding-standards.md" data-order="7"><a href="/devguide_7/reference/python-coding-standards.html">Python Coding Standards</a></li>
        
     
</ul>

                    </div>

                    <div id="content" class="col-md-9 col-sm-8">
                        

<div class="page-header" data-page-id="_shells/getting-started.md">
    <h2>Getting Started
        
        
          <span style="float: right;font-size: 20px"><small><a href="https://github.com/QualiSystems/devguide_source/tree/master/_shells/getting-started.md">Suggest edits</a></small></span>
        
    </h2>
</div>

<p>This section will take you through the basic steps of a creating a new Shell. The goal is to demonstrate the end-to-end cycle, from generating a new Shell project to instancing Shell resources and running commands in CloudShell.</p>

<h3 id="prerequisites">Prerequisites</h3>
<ul>
  <li><a href="http://info.quali.com/cloudshell-developer-edition-download">Get CloudShell</a>: Download the latest CloudShell SDK and run it on your machine.</li>
  <li><strong>Python</strong>: You must have <a href="https://www.python.org/downloads/">Python</a> 2.7.x (latest recommended) installed on your machine.</li>
  <li><strong>IDE/Text Editor:</strong> Any IDE or editor you’d rather use as an IDE. We recommend using PyCharm (which offers a free community edition) because of the tooling we’ve already created for that IDE, including a CloudShell developer plugin.</li>
  <li><strong>ShellFoundry</strong> Install ShellFoundry using pip. Run the following in your local shell:</li>
</ul>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">python -m pip install shellfoundry</code></pre></figure>

<h3 id="creating-the-shell-project">Creating the Shell Project</h3>
<p>To create the shell project, we’ll take advantage of ShellFoundry, a CLI tool for generating and distributing shells. If you installed the prerequisites listed above this tool should already be installed and ready on your system.</p>

<p>To create a new project, simply run the following command in your local shell, which will create a new sub directory containing the basic shell project structure and files:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">shellfoundry new linux-server-shell</code></pre></figure>

<p>Navigate to the new directory, you will see the following files have been created for you:</p>

<p><img src="/devguide_7/assets/shell_folder.png" alt="Directory Structure" /></p>

<p>The generated folder contains all of the basic scaffolding needed for the new shell. We will review the shell project structure in a more in-depth manner in later stages of this guide.</p>

<p>Finally, let’s make sure all of the basic package requirements for the shell are satisfied. Run the following command
from the root of the project directory:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">python -m pip install -r .\src\requirements.txt</code></pre></figure>

<h3 id="testing-the-basic-workflow">Testing the basic workflow</h3>

<h4 id="make-a-minor-change-to-the-driver">Make a minor change to the driver</h4>

<p>The source control for your shell is managed under the <em>src</em> folder. When generating the project template, ShellFoundry already created a driver template as well under this folder. Open the file <em>driver.py</em> in your preferred IDE/editor. You’ll see it already contains a driver for our shell with an example command already in place. We’ll soon implement our first command in this file. For now, let’s just make sure everything is in working order by adding a simple ‘hello world’.</p>

<p>Remove the ‘example_function’ function and replace it with the following code:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def say_hello(self, context, name):
    &quot;&quot;&quot;
    :param ResourceCommandContext context: the context the command runs on
    :param str name: A user parameter
    &quot;&quot;&quot;
    return &quot;hello {name} from {resource_name}&quot;.format(name=name, resource_name=context.resource.name)</code></pre></figure>

<p>We’ll also want to add basic metadata including aliases and descriptions. The way to do that is by
editing the drivermetadata.xml file located in the same folder.</p>

<p>Open the drivermetadata.xml file in your preferred IDE and replace the highlighted section so that it matches
the test below:</p>

<div>
  <pre data-line="3-12"><code class="language-python">&lt;Driver Description=&quot;Describe the purpose of your CloudShell shell&quot; MainClass=&quot;driver.LinuxServerShellDriver&quot; Name=&quot;LinuxServerShellDriver&quot; Version=&quot;1.0.0&quot;&gt;
    &lt;Layout&gt;
        &lt;Category Name=&quot;Samples&quot;&gt;
            &lt;Command Description=&quot;Simple hello world function&quot; DisplayName=&quot;Say Hello&quot; Name=&quot;say_hello&quot; &gt;
                &lt;Parameters&gt;
                    &lt;Parameter Name=&quot;name&quot; Type=&quot;String&quot; Mandatory = &quot;True&quot; DefaultValue=&quot;&quot; DisplayName=&quot;Your name&quot;
                               Description=&quot;Enter your full name here&quot;/&gt;
                &lt;/Parameters&gt;
            &lt;/Command&gt;
        &lt;/Category&gt;
    &lt;/Layout&gt;
&lt;/Driver&gt;</code></pre>
</div>

<p>There is no need to get into too many details at this stage. We’ll dive more deeply into the drivermetadata.xml file in a later section of this guide. For now its sufficient to understand that we use this file to provide more CloudShell specific information regarding how to interpret and display the driver commands and their parameters.</p>

<p>Save the file. We’re now ready to install the new Shell.</p>

<h4 id="install-the-shell-to-your-local-cloudshell">Install the shell to your local CloudShell</h4>

<p>ShellFoundry also provides and easy and convenient way to package and install your package to your CloudShell server.
To make use of this feature, you’ll need to first edit the cloudshell_config.yaml file, which is located root folder
of the Shell Project. Update the file with your CloudShell admin user/password and the server address.
<strong>Notice</strong> that this file should not be added to your source control obvious security reasons.
If you’re using git you’re already covered as this configuration file is included in the automatically generated
.gitingore file.</p>

<p>After you’ve edited and saved the file, run the following command from the shell root directory:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">shellfoundry install</code></pre></figure>

<p>This will package and install your shell into your local CloudShell server.</p>

<h4 id="create-an-instance-of-your-shell-resource-in-the-local-cloudshell-inventory">Create an instance of your shell resource in the local CloudShell inventory</h4>

<p>The shell is installed in your development CloudShell. We can now create resources of that Shell in our
inventory.</p>

<ol>
  <li>Open and login to your local CloudShell portal.</li>
  <li>In the top menu, click the Inventory dashboard.</li>
  <li>Click Add New and provide a name and an address for your shell resource. For now, since we don’t have an address of an actual server, just leave the address field blank.</li>
  <li>Click on Start Discovery to complete the operation.</li>
</ol>

<p><img src="/devguide_7/assets/hello_world_shell.png" alt="Shell Discovery" /></p>

<h4 id="hello-world-finally">Hello world finally</h4>

<p>Now that we’ve instantiated our shell resource, we can finally add it to an environment blueprint and reserve it as a sandbox.</p>

<ol>
  <li>In CloudShell, from the top menu,  click Lab Management&gt;  Environments</li>
  <li>To create a new environment blueprint, click + Create Environment and then click the Create New Environment button.</li>
  <li>Click Add New and drag in the shell resource you’ve created earlier.</li>
  <li>Reserve the blueprint and create a new sandbox.</li>
  <li>In the sandbox, hover over the shell resource and from the radial menu select Commands.
The commands pane opens.</li>
  <li>To run the “Say Hello” command, in the commands pane, click the play button next to the “Say Hello” command.</li>
</ol>

<p>The common output will appear in the environment output pane.</p>

<p><img src="/devguide_7/assets/hello_world.png" alt="Shell Discovery" /></p>

<h3 id="development-process-summary">Development process summary</h3>

<p>In this tutorial we’ve seen the basic flow involved in developing a Shell. It can be illustrated in the below diagram:</p>

<p><img src="/devguide_7/assets/shell_development_workflow.png" alt="Context Object" /></p>

<p>The basic flow is:</p>

<ol>
  <li>Create a new Shell project by running <em>shellfoundry new</em></li>
  <li>Configure your CloudShell credentials in the <em>cloudshell_config.yml</em> file located in the Shell project root</li>
  <li>Import the Shell to the development server using <em>shellfoundry install</em></li>
  <li>
    <p>Create an instance of the Shell for testing</p>

    <p>a. For an <strong><em>inventory resource</em></strong> Shell: Create a Shell inventory resource in CloudShell using its <em>Resource Template</em>.</p>

    <p>b. For a <strong><em>deployed app</em></strong> Shell: Define the App template in CloudShell including the deployment type and parameters, set the App model to the Shell model.</p>
  </li>
  <li>Create a sandbox for testing in the development server. Either add the Shell resource to the sandbox or deploy the App in the sandbox.</li>
  <li>Make incremental changes to the Shell and update the development server each time with your changes by running <em>shellfoundry install</em></li>
  <li>Rinse and repeat!</li>
</ol>

<p>For more information on how to deploy the Shell to production, refer to the <a href="/devguide_7/shells/deploying-to-production.html">Deploying to Production</a> section.</p>

<h4 id="whats-next">What’s next</h4>

<p>We’ve successfully gone through the steps of adding a working, if naive, Shell.
In the following sections we’ll review all of these steps in depth and review the concepts, available options
and customizations and how they interface with CloudShell.</p>








    <div id="post-nav" class="clearfix">
        
        
            <a class="next" href="/devguide_7/shells/shell-driver-overview.html">Shell Drivers Overview &raquo;</a>
        
    </div>




<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        var disqus_identifier = '_shells/getting-started.md';
        var disqus_url = 'https://qualisystems.github.io/shells/getting-started.html';
        this.page.url = "https://qualisystems.github.io/devguide_7/shells/getting-started.html";  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = disqus_identifier; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//qualidev.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



<script src="/devguide_7/js/search.min.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl  : '/devguide_7/js/index.json',           // url for the .json file containing search index data
      results   : '#search-results',          // selector for containing search results element
      template  : '#search-results-template', // selector for Mustache.js template
      titleMsg  : '',   // message attached in front of results (can be empty)
      emptyMsg  : '<p>Nothing found.</p>'     // shown message if search returns no results
    });
  });
</script>

<script>
$(function() {
    page = $(".page-header").attr("data-page-id")
    nav_item = $(".nav li[data-page-id='"+page+"']")
    if (nav_item) {
        $(".nav").find(".active").removeClass("active");
        nav_item.addClass("active");
    }
})
</script>

                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Documentation for <a href="http://www.quali.com">CloudShell Developer Guide</a>

                </div>
            </div>
        </div>

        <script src="/devguide_7/js/prism.js"></script>

        
        <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-81468206-1', 'auto');
 ga('send', 'pageview');

</script>

        
    </body>
</html>
