<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>CloudShell Developer Guide : Commands Visibility and Usability</title>
        <meta name="description" content="">
        <link rel="shortcut icon" type="image/png" href="/devguide_7/favicon.png?">
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/devguide_7/css/main.css">
        <link rel="stylesheet" href="/devguide_7/css/prism.css">
        <link rel="stylesheet" href="/devguide_7/css/samples.css">
        <link rel="stylesheet" href="/devguide_7/css/normalize.css">
        <link rel="stylesheet" href="/devguide_7/css/test-hot-block.webflow.css">


        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <script src="/devguide_7/js/jquery-3.1.0.min.js"></script>
        <script src="/devguide_7/js/modernizr.js"></script>
        <script src="/devguide_7/js/webflow.js"></script>


        
        <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-81468206-1', 'auto');
 ga('send', 'pageview');

</script>

        <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Commands Visibility and Usability - CloudShell Developer Guide</title>
<meta property="og:title" content="Commands Visibility and Usability" />
<meta name="description" content="The Shell driver commands are accessible to CloudShell users via the portal as well as to orchestration scripts running on the sandbox. In this section we’ll explore the different ways in which these commands can be customized in their appearance and behavior. The following customization options will be reviewed:" />
<meta property="og:description" content="The Shell driver commands are accessible to CloudShell users via the portal as well as to orchestration scripts running on the sandbox. In this section we’ll explore the different ways in which these commands can be customized in their appearance and behavior. The following customization options will be reviewed:" />
<link rel="canonical" href="https://qualisystems.github.io/devguide_7/shells/customizing-driver-commands.html" />
<meta property="og:url" content="https://qualisystems.github.io/devguide_7/shells/customizing-driver-commands.html" />
<meta property="og:site_name" content="CloudShell Developer Guide" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-04-30T13:02:32+03:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@qualisystems" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Commands Visibility and Usability",
"datePublished": "2016-04-30T13:02:32+03:00",
"description": "The Shell driver commands are accessible to CloudShell users via the portal as well as to orchestration scripts running on the sandbox. In this section we’ll explore the different ways in which these commands can be customized in their appearance and behavior. The following customization options will be reviewed:",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "https://qualisystems.github.io/devguide_7/assets/logo.png"}},
"url": "https://qualisystems.github.io/devguide_7/shells/customizing-driver-commands.html"}</script>
<!-- End Jekyll SEO tag -->

        
    </head>
    <body>
        <div id="header">
            <div class="container">
                <div class="row">
    <div class="col-md-3 col-sm-4">
        <a class="brand" href="/devguide_7/">
            <img alt="CloudShell Logo" src="/devguide_7/assets/logo.png" />
            CloudShell <small>Developer Guide</small>
        </a>
    </div>
    <div class="col-md-9 col-sm-8">
        <form class="search" action="/devguide_7/search.html">
            <input class="input" id="search-query" type="text" name="q" placeholder="Search" />
            <input class="button" type="submit" value="Search"></input>
        </form>
    </div>
</div>

            </div>
        </div>
        <div class="container">
            <div class="row">
                
                
                    <div id="navigation" class="col-md-3 col-sm-4">
                        <ul class="nav nav-list">
     
     
        <li class="nav-header"></li>
        
        
        
     
        <li class="nav-header">Introduction</li>
        
                <li data-page-id="index.md"><a href="/devguide_7/">The CloudShell DevGuide</a></li>
        
        
        
                    <li data-page-id="_introduction/setting-up-the-development-ide.md" data-order="1"><a href="/devguide_7/introduction/setting-up-the-development-ide.html">Setting up the Development Environment</a></li>
        
     
        <li class="nav-header">Extending cloudshell with shells</li>
        
        
        
                    <li data-page-id="_shells/getting-started.md" data-order="1"><a href="/devguide_7/shells/getting-started.html">Getting Started</a></li>
        
                    <li data-page-id="_shells/shell-driver-overview.md" data-order="2"><a href="/devguide_7/shells/shell-driver-overview.html">Shell Drivers Overview</a></li>
        
                    <li data-page-id="_shells/the-shell-project.md" data-order="3"><a href="/devguide_7/shells/the-shell-project.html">The Shell Project Guide</a></li>
        
                    <li data-page-id="_shells/modeling-the-shell.md" data-order="4"><a href="/devguide_7/shells/modeling-the-shell.html">Modeling the Shell</a></li>
        
                    <li data-page-id="_shells/getting-information-from-cloudshell.md" data-order="5"><a href="/devguide_7/shells/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
        
                    <li data-page-id="_shells/driver-deep-dive.md" data-order="6"><a href="/devguide_7/shells/driver-deep-dive.html">Driver Deep Dive</a></li>
        
                    <li data-page-id="_shells/customizing-driver-commands.md" data-order="6"><a href="/devguide_7/shells/customizing-driver-commands.html">Commands Visibility and Usability</a></li>
        
                    <li data-page-id="_shells/implementing-discovery-for-inventory-shells.md" data-order="7"><a href="/devguide_7/shells/implementing-discovery-for-inventory-shells.html">Implementing Discovery for Inventory Shells</a></li>
        
                    <li data-page-id="_shells/discovering-inventory-snmp.md" data-order="8"><a href="/devguide_7/shells/discovering-inventory-snmp.html">Discovering Inventory using SNMP</a></li>
        
                    <li data-page-id="_shells/debugging-shell-commands.md" data-order="9"><a href="/devguide_7/shells/debugging-shell-commands.html">Debugging Shell Driver Commands</a></li>
        
                    <li data-page-id="_shells/deploying-to-production.md" data-order="11"><a href="/devguide_7/shells/deploying-to-production.html">Deploying to Production</a></li>
        
                    <li data-page-id="_shells/common-driver-recipes.md" data-order="12"><a href="/devguide_7/shells/common-driver-recipes.html">Common Driver Recipes</a></li>
        
                    <li data-page-id="_shells/tips-and-tricks.md" data-order="13"><a href="/devguide_7/shells/tips-and-tricks.html">Tips and Tricks</a></li>
        
     
        <li class="nav-header">Orchestration scripts</li>
        
        
        
                    <li data-page-id="_orchestration/getting-started.md" data-order="1"><a href="/devguide_7/orchestration/getting-started.html">Getting Started</a></li>
        
                    <li data-page-id="_orchestration/getting-information-from-cloudshell.md" data-order="2"><a href="/devguide_7/orchestration/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
        
                    <li data-page-id="_orchestration/script-commands-customization.md" data-order="6"><a href="/devguide_7/orchestration/script-commands-customization.html">Script commands Visibility and Usability</a></li>
        
                    <li data-page-id="_orchestration/scripts-deep-dive.md" data-order="6"><a href="/devguide_7/orchestration/scripts-deep-dive.html">Scripts Deep Dive</a></li>
        
                    <li data-page-id="_orchestration/common-orchestration-recipes.md" data-order="9"><a href="/devguide_7/orchestration/common-orchestration-recipes.html">Common Orchestration Script Recipes</a></li>
        
                    <li data-page-id="_orchestration/the-oob-orchestration.md" data-order="9"><a href="/devguide_7/orchestration/the-oob-orchestration.html">CloudShell's OOB Orchestration</a></li>
        
     
        <li class="nav-header">Integrating cloudshell into the devops cycle</li>
        
        
        
                    <li data-page-id="_devops/devops-integration.md" data-order="1"><a href="/devguide_7/devops/devops-integration.html">Automating CloudShell Sandboxes for DevOps</a></li>
        
     
        <li class="nav-header">Reference</li>
        
        
        
                    <li data-page-id="_reference/python-coding-standards.md" data-order="7"><a href="/devguide_7/reference/python-coding-standards.html">Python Coding Standards</a></li>
        
     
</ul>

                    </div>

                    <div id="content" class="col-md-9 col-sm-8">
                        

<div class="page-header" data-page-id="_shells/customizing-driver-commands.md">
    <h2>Commands Visibility and Usability
        
        
          <span style="float: right;font-size: 20px"><small><a href="https://github.com/QualiSystems/devguide_source/tree/master/_shells/customizing-driver-commands.md">Suggest edits</a></small></span>
        
    </h2>
</div>

<p>The Shell driver commands are accessible to CloudShell users via the portal as well as to orchestration scripts running on the sandbox.
In this section we’ll explore the different ways in which these commands can be customized in their appearance and behavior. The following customization options will be reviewed:</p>

<ul>
  <li><a href="#customize_names">Changing the function display name and description</a></li>
  <li><a href="#customize_parameter_names">Specifying display name and descriptions for each parameter</a></li>
  <li><a href="#customizing_optional_parameters">Optional parameters and default values</a></li>
  <li><a href="#customizing_lookup_values">Restricting input to a specific set of possible values</a></li>
  <li><a href="#customizing_categories">Adding categories</a></li>
  <li><a href="#customizing_orchestration_only_commands">Orchestration only commands</a></li>
</ul>

<p>If you haven’t done some already it is recommended to go through the <a href="/devguide_7/shells/getting-started.html">Getting Started</a> tutorial before continuing to get a better understanding of the overall process of creating and using a shell. We also assume you’ve gone through the steps described in the <a href="/devguide_7/introduction/setting-up-the-development-ide.html">Setting Up the Development IDE</a> section of this guide.</p>

<p><a name="setting_up"></a></p>

<h3 id="setting-up">Setting up</h3>

<p>We’ll start by creating a new shell that we’ll use in this example. In the <a href="/devguide_7/shells/getting-started.html">Getting Started</a> tutorial we used the ShellFoundry CLI tool to generate a working shell to get started quickly. In this section we’ll also be using the ShellFoundry to create an example shell, only this time we’ll use a different project template. The <em>resource-clean</em> template is similar to the default template we’ve used previously only it doesn’t contain any example driver functions. This will make it easier for us to really go through the experience of starting from a clean slate.</p>

<p>From the command line, navigate to a folder under which you’ll want the new shell to be created and type in the following:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">shellfoundry new customization-example --template=resource-clean
cd customization_example</code></pre></figure>

<p>A new project with an empty driver is created.</p>

<p>Let’s start by creating a function we can experiment on. Open the driver file. The file is named <em>driver.py</em> and is located in the <em>src</em> folder of the shell project.
Add the following function to the shell driver class and save it:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def user_facing_function(self, context, some_parameter, some_other_parameter):
    &quot;&quot;&quot;
    :type context: cloudshell.shell.core.driver_context.ResourceCommandContext
    :type some_parameter: str
    :type some_other_parameter: str
    &quot;&quot;&quot;
    print &quot;Thank you for calling this function.&quot;</code></pre></figure>

<p>We’ve now created a shell with a single command. Similar to the flow covered in the <a href="/devguide_7/shells/getting-started.html">Getting Started</a> tutorial, the next steps would be to create a resource instance of this shell in CloudShell and add it to a sandbox so we can experiment with it. You should refer to the <a href="/devguide_7/shells/getting-started.html">Getting Started</a> tutorial for any question on how to accomplish the three steps below:</p>

<ol>
  <li>Install the shell by running the following from the shell directory: <em>shellfoundry install</em></li>
  <li>Create a resource instance from the CloudShell inventory.</li>
  <li>Create a new sandbox and drag the resource instance into it. Open the Commands pane.</li>
</ol>

<p>At this point the Commands pane should look something like this:</p>

<p><img src="/devguide_7/assets/commands_no_customization.png" alt="Shell Commands" /></p>

<p>As you can see, we didn’t need to specify any additional details to get our Python functions to be visible as shell commands in the CloudShell sandbox, however the commands appear if a very ‘code’ like manner so our next step would be making them a bit more presentable.</p>

<p>The information on how to display the driver functions in CloudShell is stored in the <em>drivermetadata.xml</em> file located in the driver <em>src</em> directory.</p>

<p><a name="customize_names"></a></p>

<h3 id="changing-the-function-display-name-and-description">Changing the function display name and description</h3>

<p>For the first round of customizations, we’ll work on the user facing function and improve the naming of the command and its parameters as they appear to the user in CloudShell. Open the <em>drivermetadata.xml</em> file and add the following text to it:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;Driver Description=&quot;Describe the purpose of your CloudShell shell&quot; MainClass=&quot;driver.CustomizationExampleDriver&quot; Name=&quot;CustomizationExampleDriver&quot; Version=&quot;1.0.0&quot;&gt;
    &lt;Layout&gt;
        &lt;Command Description=&quot;This command is for the user&quot; DisplayName=&quot;User Command&quot; Name=&quot;user_facing_function&quot; &gt;
        &lt;/Command&gt;
    &lt;/Layout&gt;
&lt;/Driver&gt;</code></pre></figure>

<p>Each <em>Command</em> element in the xml above customizes a single python function specified by the <em>Name</em> attribute. The <em>DisplayName</em> and <em>Description</em> attributes will determine the name of the command as it appears to the user and the description appearing next to it, respectively.</p>

<p>Reinstall the Shell in CloudShell by running</p>
<figure class="highlight"><pre><code class="language-bash" data-lang="bash">shellfoundry install</code></pre></figure>
<p>from command line and check the sandbox command panel again.
The shell commands should now appear as follows:</p>

<p><img src="/devguide_7/assets/commands_name_customization.png" alt="Shell Commands" /></p>

<p>Please note that changing the display name of a function will affect only how its visually rendered in the UI.
Code trying to execute this command using the CloudShell API will need to still refer to it by the command <em>name</em>.</p>

<p><a name="customize_parameter_names"></a></p>

<h3 id="specify-display-name-and-descriptions-for-each-parameter">Specify display name and descriptions for each parameter</h3>

<p>You may have noticed that the  parameter names still look pretty raw and code like. We might want to customize that as well. We can do that by adding additional nested elements describing the parameters under each command. Update the <em>drivermetadata.xml</em> file as follows:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;Driver Description=&quot;Describe the purpose of your CloudShell shell&quot; MainClass=&quot;driver.CustomizationExampleDriver&quot; Name=&quot;CustomizationExampleDriver&quot; Version=&quot;1.0.0&quot;&gt;
    &lt;Layout&gt;
        &lt;Command Description=&quot;This command is for the user&quot; DisplayName=&quot;User Command&quot; Name=&quot;user_facing_function&quot; &gt;
            &lt;Parameters&gt;
                    &lt;Parameter Name=&quot;some_parameter&quot; DisplayName=&quot;Some Parameter&quot; Description=&quot;More info here about the parameter&quot;/&gt;
                    &lt;Parameter Name=&quot;some_other_parameter&quot; DisplayName=&quot;Some Other Parameter&quot; Description=&quot;More info here about the parameter&quot;/&gt;
                &lt;/Parameters&gt;
        &lt;/Command&gt;

    &lt;/Layout&gt;
&lt;/Driver&gt;</code></pre></figure>

<p>In the <em>drivermetadata.xml</em> XML, the <em>Parameters</em> element  contains a list of <em>Parameter</em> elements, each is responsible for a specific function parameter. The <em>DisplayName</em> and <em>Description</em> attributes will determine the name of the command as it appears to the user and the description appearing next to it, respectively.</p>

<p>After installing the shell again, the parameters for the command will now appear in a more readable format:</p>

<p><img src="/devguide_7/assets/commands_param_customization.png" alt="Shell Commands" /></p>

<p><a name="customizing_optional_parameters"></a></p>

<h3 id="optional-parameters-and-default-values">Optional parameters and default values</h3>

<p>For each of the command parameters, we may want to specify whether that parameter is mandatory for the user to supply, and whether there should be a default value in case the user didn’t enter any value.</p>

<p>In the following example, we will make the first parameter mandatory by setting the <em>Mandatory</em> attribute to True. Users will be required to enter a value for parameters before being able to run the command. The second parameter is optional but now has a default value which we will set using the DefaultValue attribute:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;Driver Description=&quot;Describe the purpose of your CloudShell shell&quot; MainClass=&quot;driver.CustomizationExampleDriver&quot; Name=&quot;CustomizationExampleDriver&quot; Version=&quot;1.0.0&quot;&gt;
    &lt;Layout&gt;
        &lt;Command Description=&quot;This command is for the user&quot; DisplayName=&quot;User Command&quot; Name=&quot;user_facing_function&quot; &gt;
            &lt;Parameters&gt;
                    &lt;Parameter Name=&quot;some_parameter&quot; Mandatory = &quot;True&quot;
                               DisplayName=&quot;Some Mandatory Parameter&quot; Description=&quot;More info here about the parameter&quot;/&gt;
                    &lt;Parameter Name=&quot;some_other_parameter&quot; Mandatory = &quot;False&quot;
                               DisplayName=&quot;Some Optional Parameter&quot; Description=&quot;More info here about the parameter&quot; DefaultValue=&quot;None&quot;/&gt;
                &lt;/Parameters&gt;
        &lt;/Command&gt;

    &lt;/Layout&gt;
&lt;/Driver&gt;</code></pre></figure>

<p>Re-installing the shell will update the commands pane accordingly:</p>

<p><img src="/devguide_7/assets/commands_mandatory_customization.png" alt="Shell Commands" /></p>

<p><a name="customizing_lookup_values"></a></p>

<h3 id="restricting-input-to-a-specific-set-of-possible-values">Restricting input to a specific set of possible values</h3>

<p>For certain parameters, you might want the user to select between a pre-determined set of values, rather than leave the inputs as a free text entry. To set that up, you need to add that information to the parameter XML:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;Driver Description=&quot;Describe the purpose of your CloudShell shell&quot; MainClass=&quot;driver.CustomizationExampleDriver&quot; Name=&quot;CustomizationExampleDriver&quot; Version=&quot;1.0.0&quot;&gt;
    &lt;Layout&gt;
        &lt;Command Description=&quot;This command is for the user&quot; DisplayName=&quot;User Command&quot; Name=&quot;user_facing_function&quot; &gt;
            &lt;Parameters&gt;
                    &lt;Parameter Name=&quot;some_parameter&quot; Mandatory = &quot;True&quot;
                               DisplayName=&quot;Some Mandatory Parameter&quot; Description=&quot;More info here about the parameter&quot;/&gt;
                    &lt;Parameter Name=&quot;some_other_parameter&quot; Type=&quot;Lookup&quot; Mandatory = &quot;False&quot; AllowedValues=&quot;Yes,No&quot;
                               DisplayName=&quot;Some Optional Parameter&quot; Description=&quot;More info here about the parameter&quot; DefaultValue=&quot;Yes&quot;/&gt;
                &lt;/Parameters&gt;
        &lt;/Command&gt;

    &lt;/Layout&gt;
&lt;/Driver&gt;</code></pre></figure>

<p>In the xml above, we’ve specified that the second parameter must be selected out of a specific set of possible values. We did that by adding the <em>Type</em> attribute to the parameter element and seting it as <em>Lookup</em>. To define the possible values, we’ve added the <em>AllowedValues</em> attribute, which sets the possible values for this parameter, represented as a comma separated list. In this case, the possible values are <em>Yes</em> and <em>No</em>. We’ve also changed the default value to conform to the possible options.</p>

<p>After re-installing the shell, the Commands pane now reflects the parameter new value restriction:</p>

<p><img src="/devguide_7/assets/commands_lookup_customization.png" alt="Shell Commands" /></p>

<p><a name="customizing_categories"></a></p>

<h3 id="adding-categories">Adding categories</h3>

<p>As you add more commands to the resource, it can be useful to visually group them into categories and improve the usability of the commands panel.
These categories will appear as folders which the user can navigate. To demonstrate this capability, let’s first add additional commands to the shell. Open the <em>driver.py</em> file located in the <em>src</em> directory and add the following two functions:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def backup(self, context):
    &quot;&quot;&quot;
    :type context: cloudshell.shell.core.driver_context.ResourceCommandContext
    &quot;&quot;&quot;
    print &quot;Backing up...&quot;

def restore(self, context):
    &quot;&quot;&quot;
    :type context: cloudshell.shell.core.driver_context.ResourceCommandContext
    &quot;&quot;&quot;
    print &quot;Restoring...&quot;</code></pre></figure>

<p>Grouping together commands under a category is pretty strait forward: Simply add a <em>Category</em> element and nest the relevant commands under it. In this case, we’ve added a category called <em>Operate</em> for the previous operation we’ve implemented and a category named <em>Management</em> for the new save and restore functions:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;Driver Description=&quot;Describe the purpose of your CloudShell shell&quot; MainClass=&quot;driver.CustomizationExampleDriver&quot; Name=&quot;CustomizationExampleDriver&quot; Version=&quot;1.0.0&quot;&gt;
    &lt;Layout&gt;
        &lt;Category Name=&quot;Operate&quot;&gt;
            &lt;Command Description=&quot;This command is for the user&quot; DisplayName=&quot;User Command&quot; Name=&quot;user_facing_function&quot; &gt;
                &lt;Parameters&gt;
                        &lt;Parameter Name=&quot;some_parameter&quot; Mandatory = &quot;True&quot;
                                   DisplayName=&quot;Some Mandatory Parameter&quot; Description=&quot;More info here about the parameter&quot;/&gt;
                        &lt;Parameter Name=&quot;some_other_parameter&quot; Type=&quot;Lookup&quot; Mandatory = &quot;False&quot; AllowedValues=&quot;Yes,No&quot;
                                   DisplayName=&quot;Some Optional Parameter&quot; Description=&quot;More info here about the parameter&quot; DefaultValue=&quot;Yes&quot;/&gt;
                    &lt;/Parameters&gt;
            &lt;/Command&gt;
        &lt;/Category&gt;

        &lt;Category Name=&quot;Management&quot;&gt;
            &lt;Command Description=&quot;Backs up the current device state&quot; DisplayName=&quot;Backup&quot; Name=&quot;backup&quot; /&gt;
            &lt;Command Description=&quot;Restores the last saved device state&quot; DisplayName=&quot;Restore&quot; Name=&quot;restore&quot; /&gt;
        &lt;/Category&gt;

    &lt;/Layout&gt;
&lt;/Driver&gt;</code></pre></figure>

<p>After re-installing the shell we get the following command panel layout:</p>

<p><img src="/devguide_7/assets/commands_category_customization.png" alt="Shell Commands" /></p>

<p><a name="customizing_orchestration_only_commands"></a></p>

<h3 id="orchestration-only-commands">Orchestration only commands</h3>

<p>Sometimes, you may wish to create commands that are intended to be used as a part of an orchestration flow, for example to be called during setup, but that you don’t wish users to get direct access to or to be visible via the UI. For example, a command that will be called during a sandbox’s Setup process.
To support this use case, CloudShell supports a special category, the <em>Hidden Commands</em> category which allows you to mark commands you want to be omitted from the web portal UI but that can still be invoked via the API.</p>

<p>To demonstrate this capability, let’s first add a new function to our driver class in the <em>driver.py</em> file:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">def api_only_function(self, context):
    &quot;&quot;&quot;
    :type context: cloudshell.shell.core.driver_context.ResourceCommandContext
    &quot;&quot;&quot;
    print &quot;You didn&#39;t see this on the web interface...&quot;</code></pre></figure>

<p>Next, let’s add the special category to the <em>drivermetadata.xml</em> file and nest that command under it:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;Driver Description=&quot;Describe the purpose of your CloudShell shell&quot; MainClass=&quot;driver.CustomizationExampleDriver&quot; Name=&quot;CustomizationExampleDriver&quot; Version=&quot;1.0.0&quot;&gt;
    &lt;Layout&gt;
        &lt;Category Name=&quot;Operate&quot;&gt;
            &lt;Command Description=&quot;This command is for the user&quot; DisplayName=&quot;User Command&quot; Name=&quot;user_facing_function&quot; &gt;
                &lt;Parameters&gt;
                        &lt;Parameter Name=&quot;some_parameter&quot; Mandatory = &quot;True&quot;
                                   DisplayName=&quot;Some Mandatory Parameter&quot; Description=&quot;More info here about the parameter&quot;/&gt;
                        &lt;Parameter Name=&quot;some_other_parameter&quot; Type=&quot;Lookup&quot; Mandatory = &quot;False&quot; AllowedValues=&quot;Yes,No&quot;
                                   DisplayName=&quot;Some Optional Parameter&quot; Description=&quot;More info here about the parameter&quot; DefaultValue=&quot;Yes&quot;/&gt;
                    &lt;/Parameters&gt;
            &lt;/Command&gt;
        &lt;/Category&gt;

        &lt;Category Name=&quot;Management&quot;&gt;
            &lt;Command Description=&quot;Backs up the current device state&quot; DisplayName=&quot;Backup&quot; Name=&quot;backup&quot; /&gt;
            &lt;Command Description=&quot;Restores the last saved device state&quot; DisplayName=&quot;Restore&quot; Name=&quot;restore&quot; /&gt;
        &lt;/Category&gt;

        &lt;Category Name=&quot;Hidden Commands&quot;&gt;
            &lt;Command Description=&quot;An API only function&quot; DisplayName=&quot;Run me VIA API&quot; Name=&quot;api_only_function&quot; /&gt;
        &lt;/Category&gt;
    &lt;/Layout&gt;
&lt;/Driver&gt;</code></pre></figure>

<p>After re-installing the shell you’ll see the new function doesn’t appear in the Commands pane:
<img src="/devguide_7/assets/commands_hidden_customization.png" alt="Shell Commands" /></p>

<p>However if you query the list of commands on the shell via the API, you’ll be able to see it as well as invoke it:
<img src="/devguide_7/assets/commands_hidden_list_from_api.png" alt="Shell Commands" /></p>

<h3 id="summary">Summary</h3>

<p>In this section we reviewed different ways in which its possible to customize the appearance and behavior of commands and command parameters from the user’s perspective. If you have feedback or additional suggestions for features and improvements be sure to post them on our idea box. We’re always looking for new ideas!</p>








    <div id="post-nav" class="clearfix">
        
            <a class="prev" href="/devguide_7/shells/driver-deep-dive.html">&laquo; Driver Deep Dive</a>
        
        
            <a class="next" href="/devguide_7/shells/implementing-discovery-for-inventory-shells.html">Implementing Discovery for Inventory Shells &raquo;</a>
        
    </div>




<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        var disqus_identifier = '_shells/customizing-driver-commands.md';
        var disqus_url = 'https://qualisystems.github.io/shells/customizing-driver-commands.html';
        this.page.url = "https://qualisystems.github.io/devguide_7/shells/customizing-driver-commands.html";  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = disqus_identifier; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//qualidev.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



<script src="/devguide_7/js/search.min.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl  : '/devguide_7/js/index.json',           // url for the .json file containing search index data
      results   : '#search-results',          // selector for containing search results element
      template  : '#search-results-template', // selector for Mustache.js template
      titleMsg  : '',   // message attached in front of results (can be empty)
      emptyMsg  : '<p>Nothing found.</p>'     // shown message if search returns no results
    });
  });
</script>

<script>
$(function() {
    page = $(".page-header").attr("data-page-id")
    nav_item = $(".nav li[data-page-id='"+page+"']")
    if (nav_item) {
        $(".nav").find(".active").removeClass("active");
        nav_item.addClass("active");
    }
})
</script>

                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Documentation for <a href="http://www.quali.com">CloudShell Developer Guide</a>

                </div>
            </div>
        </div>

        <script src="/devguide_7/js/prism.js"></script>

        
        <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-81468206-1', 'auto');
 ga('send', 'pageview');

</script>

        
    </body>
</html>
