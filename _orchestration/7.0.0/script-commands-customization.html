<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>CloudShell Developer Guide : Script commands Visibility and Usability</title>
        <meta name="description" content="">
        <link rel="shortcut icon" type="image/png" href="/devguide_7/favicon.png?">
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/devguide_7/css/main.css">
        <link rel="stylesheet" href="/devguide_7/css/prism.css">
        <link rel="stylesheet" href="/devguide_7/css/samples.css">
        <link rel="stylesheet" href="/devguide_7/css/normalize.css">
        <link rel="stylesheet" href="/devguide_7/css/test-hot-block.webflow.css">


        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <script src="/devguide_7/js/jquery-3.1.0.min.js"></script>
        <script src="/devguide_7/js/modernizr.js"></script>
        <script src="/devguide_7/js/webflow.js"></script>


        
        <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-81468206-1', 'auto');
 ga('send', 'pageview');

</script>

        <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Script commands Visibility and Usability - CloudShell Developer Guide</title>
<meta property="og:title" content="Script commands Visibility and Usability" />
<meta name="description" content="You can control many aspect of how the orchestration commands appear and behave in CloudShell by editing the script from the scripts management page." />
<meta property="og:description" content="You can control many aspect of how the orchestration commands appear and behave in CloudShell by editing the script from the scripts management page." />
<link rel="canonical" href="https://qualisystems.github.io/devguide_7/orchestration/script-commands-customization.html" />
<meta property="og:url" content="https://qualisystems.github.io/devguide_7/orchestration/script-commands-customization.html" />
<meta property="og:site_name" content="CloudShell Developer Guide" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-04-30T13:02:32+03:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@qualisystems" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Script commands Visibility and Usability",
"datePublished": "2016-04-30T13:02:32+03:00",
"description": "You can control many aspect of how the orchestration commands appear and behave in CloudShell by editing the script from the scripts management page.",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "https://qualisystems.github.io/devguide_7/assets/logo.png"}},
"url": "https://qualisystems.github.io/devguide_7/orchestration/script-commands-customization.html"}</script>
<!-- End Jekyll SEO tag -->

        
    </head>
    <body>
        <div id="header">
            <div class="container">
                <div class="row">
    <div class="col-md-3 col-sm-4">
        <a class="brand" href="/devguide_7/">
            <img alt="CloudShell Logo" src="/devguide_7/assets/logo.png" />
            CloudShell <small>Developer Guide</small>
        </a>
    </div>
    <div class="col-md-9 col-sm-8">
        <form class="search" action="/devguide_7/search.html">
            <input class="input" id="search-query" type="text" name="q" placeholder="Search" />
            <input class="button" type="submit" value="Search"></input>
        </form>
    </div>
</div>

            </div>
        </div>
        <div class="container">
            <div class="row">
                
                
                    <div id="navigation" class="col-md-3 col-sm-4">
                        <ul class="nav nav-list">
     
     
        <li class="nav-header"></li>
        
        
        
     
        <li class="nav-header">Introduction</li>
        
                <li data-page-id="index.md"><a href="/devguide_7/">The CloudShell DevGuide</a></li>
        
        
        
                    <li data-page-id="_introduction/setting-up-the-development-ide.md" data-order="1"><a href="/devguide_7/introduction/setting-up-the-development-ide.html">Setting up the Development Environment</a></li>
        
     
        <li class="nav-header">Extending cloudshell with shells</li>
        
        
        
                    <li data-page-id="_shells/getting-started.md" data-order="1"><a href="/devguide_7/shells/getting-started.html">Getting Started</a></li>
        
                    <li data-page-id="_shells/shell-driver-overview.md" data-order="2"><a href="/devguide_7/shells/shell-driver-overview.html">Shell Drivers Overview</a></li>
        
                    <li data-page-id="_shells/the-shell-project.md" data-order="3"><a href="/devguide_7/shells/the-shell-project.html">The Shell Project Guide</a></li>
        
                    <li data-page-id="_shells/modeling-the-shell.md" data-order="4"><a href="/devguide_7/shells/modeling-the-shell.html">Modeling the Shell</a></li>
        
                    <li data-page-id="_shells/getting-information-from-cloudshell.md" data-order="5"><a href="/devguide_7/shells/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
        
                    <li data-page-id="_shells/driver-deep-dive.md" data-order="6"><a href="/devguide_7/shells/driver-deep-dive.html">Driver Deep Dive</a></li>
        
                    <li data-page-id="_shells/customizing-driver-commands.md" data-order="6"><a href="/devguide_7/shells/customizing-driver-commands.html">Commands Visibility and Usability</a></li>
        
                    <li data-page-id="_shells/implementing-discovery-for-inventory-shells.md" data-order="7"><a href="/devguide_7/shells/implementing-discovery-for-inventory-shells.html">Implementing Discovery for Inventory Shells</a></li>
        
                    <li data-page-id="_shells/discovering-inventory-snmp.md" data-order="8"><a href="/devguide_7/shells/discovering-inventory-snmp.html">Discovering Inventory using SNMP</a></li>
        
                    <li data-page-id="_shells/debugging-shell-commands.md" data-order="9"><a href="/devguide_7/shells/debugging-shell-commands.html">Debugging Shell Driver Commands</a></li>
        
                    <li data-page-id="_shells/deploying-to-production.md" data-order="11"><a href="/devguide_7/shells/deploying-to-production.html">Deploying to Production</a></li>
        
                    <li data-page-id="_shells/common-driver-recipes.md" data-order="12"><a href="/devguide_7/shells/common-driver-recipes.html">Common Driver Recipes</a></li>
        
                    <li data-page-id="_shells/tips-and-tricks.md" data-order="13"><a href="/devguide_7/shells/tips-and-tricks.html">Tips and Tricks</a></li>
        
     
        <li class="nav-header">Orchestration scripts</li>
        
        
        
                    <li data-page-id="_orchestration/getting-started.md" data-order="1"><a href="/devguide_7/orchestration/getting-started.html">Getting Started</a></li>
        
                    <li data-page-id="_orchestration/getting-information-from-cloudshell.md" data-order="2"><a href="/devguide_7/orchestration/getting-information-from-cloudshell.html">Getting Information from CloudShell</a></li>
        
                    <li data-page-id="_orchestration/script-commands-customization.md" data-order="6"><a href="/devguide_7/orchestration/script-commands-customization.html">Script commands Visibility and Usability</a></li>
        
                    <li data-page-id="_orchestration/scripts-deep-dive.md" data-order="6"><a href="/devguide_7/orchestration/scripts-deep-dive.html">Scripts Deep Dive</a></li>
        
                    <li data-page-id="_orchestration/common-orchestration-recipes.md" data-order="9"><a href="/devguide_7/orchestration/common-orchestration-recipes.html">Common Orchestration Script Recipes</a></li>
        
                    <li data-page-id="_orchestration/the-oob-orchestration.md" data-order="9"><a href="/devguide_7/orchestration/the-oob-orchestration.html">CloudShell's OOB Orchestration</a></li>
        
     
        <li class="nav-header">Integrating cloudshell into the devops cycle</li>
        
        
        
                    <li data-page-id="_devops/devops-integration.md" data-order="1"><a href="/devguide_7/devops/devops-integration.html">Automating CloudShell Sandboxes for DevOps</a></li>
        
     
        <li class="nav-header">Reference</li>
        
        
        
                    <li data-page-id="_reference/python-coding-standards.md" data-order="7"><a href="/devguide_7/reference/python-coding-standards.html">Python Coding Standards</a></li>
        
     
</ul>

                    </div>

                    <div id="content" class="col-md-9 col-sm-8">
                        

<div class="page-header" data-page-id="_orchestration/script-commands-customization.md">
    <h2>Script commands Visibility and Usability
        
        
          <span style="float: right;font-size: 20px"><small><a href="https://github.com/QualiSystems/devguide_source/tree/master/_orchestration/script-commands-customization.md">Suggest edits</a></small></span>
        
    </h2>
</div>

<p>You can control many aspect of how the orchestration commands appear and behave
in CloudShell by editing the script from the scripts management page.</p>

<p>To demonstrate these capabilities, we’ll create a simple script which we’ll customize.
The script essentially prints out the parameters it receives and then sets the Sandbox
status to ‘Online’.</p>

<p>Create a new Python file and name it <em>customization_test.py</em>. Add the following code:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">cloudshell.helpers.scripts.cloudshell_scripts_helpers as helpers
import cloudshell.helpers.scripts.cloudshell_dev_helpers as dev_helpers
from cloudshell.api.cloudshell_api import CloudShellAPISession

def print_parameters_values():
    print helpers.get_user_param(&quot;first_param&quot;)
    print helpers.get_user_param(&quot;second_param&quot;)

def change_reservation_status_to_online(session):
    &quot;&quot;&quot;
    :param CloudShellAPISession session:
    :return:
    &quot;&quot;&quot;
    session.SetReservationLiveStatus(helpers.get_reservation_context_details().id, &quot;Online&quot;)

def main():
    session = helpers.get_api_session()
    dev_helpers.attach_to_cloudshell()
    print_parameters_values()
    change_reservation_status_to_online(session)

if __name__ == &quot;__main__&quot;:
    main()</code></pre></figure>

<p>In the CloudShell portal, open the Management tab. Navigate to the <em>Scripts</em> sub section and select <em>Environment</em>.</p>

<p><img src="/devguide_7/assets/environment_scripts.png" alt="Scripts Management Page" class="img-responsive" /></p>

<p>Drag and drop or add the <em>customization_test.py</em> script. Then click the “Edit” button to customize it.</p>

<p><img src="/devguide_7/assets/orch_script_edit.png" alt="Scripts Management Page" class="img-responsive" /></p>

<h3 id="setting-display-name-descriptions-and-category">Setting display name, descriptions and category</h3>

<p>You can set the script display name or alias by editing the “Alias” field in the edit form.
Note that if you try to execute this script as a command from the API you’ll still need to reference it by
its name. Set the alias to <em>Customization Script</em>.</p>

<p>The description is also easy to set via the edit form. Enter any text here, it will be displayed as a reference
under the script name in the commands pane.</p>

<p>Categories help improve usability by grouping commands with a similar role or domain under a folder in the sandbox command
panel. This grouping has visual implications only and will not affect API calls. For this example, let’s set the category name
to ‘Customization’.</p>

<h3 id="adding-parameters">Adding parameters</h3>

<p>Our script expects two parameters, but CloudShell has no way of knowing that. We need to add these parameters
in this same form.</p>

<p>Click the “Add Parameter” link at the bottom of the form. Set the <em>Name</em> as ‘first_param’ and the <em>Default Value</em> as ‘None’,
finally fill in the description field with any text. If the command parameters don’t have default values, they will become
mandatory and the user won’t be able to execute the command without filling in values for them.</p>

<p>Repeat the process, this time for the second param which the script expects to be named “second_param”.</p>

<h3 id="test-the-new-look-and-feel">Test the new look and feel</h3>

<p>To test the script, we need to add it to a blueprint. Go to Lab Management -&gt; Environment. Create a new environment or
select an existing one and attach the script to it from the properties page of the environment.
Reserve the environment and open the command pane in the sandbox.</p>

<p><img src="/devguide_7/assets/scripts_customization.png" alt="Scripts Management Page" class="img-responsive" /></p>








    <div id="post-nav" class="clearfix">
        
            <a class="prev" href="/devguide_7/orchestration/getting-information-from-cloudshell.html">&laquo; Getting Information from CloudShell</a>
        
        
            <a class="next" href="/devguide_7/orchestration/scripts-deep-dive.html">Scripts Deep Dive &raquo;</a>
        
    </div>




<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        var disqus_identifier = '_orchestration/script-commands-customization.md';
        var disqus_url = 'https://qualisystems.github.io/orchestration/script-commands-customization.html';
        this.page.url = "https://qualisystems.github.io/devguide_7/orchestration/script-commands-customization.html";  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = disqus_identifier; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//qualidev.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



<script src="/devguide_7/js/search.min.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl  : '/devguide_7/js/index.json',           // url for the .json file containing search index data
      results   : '#search-results',          // selector for containing search results element
      template  : '#search-results-template', // selector for Mustache.js template
      titleMsg  : '',   // message attached in front of results (can be empty)
      emptyMsg  : '<p>Nothing found.</p>'     // shown message if search returns no results
    });
  });
</script>

<script>
$(function() {
    page = $(".page-header").attr("data-page-id")
    nav_item = $(".nav li[data-page-id='"+page+"']")
    if (nav_item) {
        $(".nav").find(".active").removeClass("active");
        nav_item.addClass("active");
    }
})
</script>

                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Documentation for <a href="http://www.quali.com">CloudShell Developer Guide</a>

                </div>
            </div>
        </div>

        <script src="/devguide_7/js/prism.js"></script>

        
        <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-81468206-1', 'auto');
 ga('send', 'pageview');

</script>

        
    </body>
</html>
